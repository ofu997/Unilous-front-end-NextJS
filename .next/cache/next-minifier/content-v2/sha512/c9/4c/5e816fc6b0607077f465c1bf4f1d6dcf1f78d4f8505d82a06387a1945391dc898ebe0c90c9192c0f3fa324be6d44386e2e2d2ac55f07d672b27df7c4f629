{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Fncr:function(t,e,n){\"use strict\";n.r(e);var a=n(\"q1tI\"),o=n.n(a),r=n(\"/MKj\"),s=n(\"beb+\"),c=n.n(s),i=n(\"uYsV\"),l=n(\"ttZb\"),u=n(\"0J1E\"),d=n(\"6Ysq\"),v=n(\"YFqc\"),f=n.n(v),m=n(\"VFWX\"),h=n(\"BkJp\"),y=n(\"gH2n\"),p=n(\"2E1m\"),g=n(\"ANjH\"),b=o.a.createElement;function w(t){if(\"undefined\"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if(\"string\"===typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o,r=!0,s=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw o}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}e.default=Object(r.b)((function(t){return{posts:t.posts,stretchLayout:t.stretchLayout,eventSearch:t.eventSearch}}),(function(t){return{addPosts:Object(g.b)(d.a,t),toggleStretchLayout:Object(g.b)(y.b,t),setEventSearch:Object(g.b)(p.b,t)}}))((function(t){var e=t.posts?t.posts.map((function(t){return t._id})):[],n=Object(a.useState)(!1),o=n[0],r=n[1],s=(decodeURIComponent(t.query),Object(l.useQuery)(u.i,{variables:{filterString:\"\",postIds:e,eventQuery:t.eventSearch}}));window.innerHeight+window.scrollY>document.body.offsetHeight-100&&!o&&r(!0),window.innerHeight+window.scrollY<=document.body.offsetHeight-100&&o&&r(!1);window.addEventListener(\"scroll\",(function(){window.innerHeight+window.scrollY>document.body.offsetHeight-100&&!o&&r(!0),window.innerHeight+window.scrollY<=document.body.offsetHeight-100&&o&&r(!1)}),!1);var d=function(t,e){if(!o)return!1;if(!t)return!1;if(!t.searchPosts)return!1;if(!e)return!0;var n,a=t.searchPosts.map((function(t){return t.title})),r=e.map((function(t){return t.title})),s=w(a);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!r.includes(c))return!0}}catch(i){s.e(i)}finally{s.f()}return!1}(s.data,t.posts)?s.data.searchPosts:null;if(Object(a.useEffect)((function(){d&&!t.posts&&(t.addPosts(s.data.searchPosts),r(!1)),d&&t.posts&&d.length>0&&(t.posts.map((function(t){return t._id})).includes(d[0]._id)||(t.addPosts(s.data.searchPosts),r(!1)))}),[s,t.addPosts,t,d]),!t.posts)return b(\"div\",null,b(\"div\",{style:{height:\"5vh\"}}),b(m.a,null));t.eventSearch;var v=t.posts;v=v.map((function(e){return b(i.a,{stretch:t.stretchLayout,key:\"post\".concat(e._id),post:e})}));var y=Object(h.a)(\"rgb(40,40,40)\").colorPallette,p=t.stretchLayout?c.a.layoutButtonGrid:c.a.layoutButtonStretch,g=t.stretchLayout?c.a.resultsContentStretch:c.a.resultsContentGrid,N=[{name:\"COVID-19\",color:\"rgb(237,32,40)\",iconB:\"/svg/events/virusB.svg\",iconW:\"/svg/events/virusW.svg\",iconC:\"/svg/events/virusC.svg\"},{name:\"2020 Election\",color:\"rgb(255,0,255)\",iconB:\"/svg/events/usaB.svg\",iconW:\"/svg/events/usaW.svg\",iconC:\"/svg/events/usaC.svg\"}].map((function(e){return e.name===t.eventSearch?b(\"div\",{className:c.a.eventSelected,onClick:function(){return t.setEventSearch(null)},style:{borderColor:e.color,backgroundColor:e.color},key:\"EV\".concat(e.name)},b(\"img\",{src:e.iconW,className:c.a.eventImage,alt:e.name}),b(\"h3\",{className:c.a.eventText},e.name)):b(\"div\",{className:c.a.event,onClick:function(){return t.setEventSearch(e.name)},style:{borderColor:e.color,color:e.color},key:\"EV\".concat(e.name)},b(\"img\",{src:e.iconC,className:c.a.eventImage,alt:e.name}),b(\"h3\",{className:c.a.eventText},e.name))})),C=t.eventSearch?c.a.ECActive:null,S=s.data&&null===s.data.searchPosts?b(\"h3\",{style:{opacity:\"0.8\"}},\"no more posts\"):b(m.a,null);return b(\"div\",{className:\"home-wrapper\"},b(\"div\",{className:c.a.resultsContainer},b(f.a,{href:\"/PostFormPage\",className:\"\".concat(c.a.formContainerExpand,\" standard-hover neutralize-link\"),title:t.setTitle},b(\"img\",{className:c.a.formExpandIcon,src:y.plusIcon,alt:\"team up\"})),b(\"div\",{className:\"navbar-height\"}),b(\"h2\",{className:c.a.secondaryTitle},\"events\"),b(\"div\",{className:\"\".concat(c.a.eventsContainer,\" \").concat(C)},N),b(\"div\",{onClick:function(){return t.toggleStretchLayout(!t.stretchLayout)},className:c.a.layoutWrapper},b(\"div\",{className:c.a.layoutContainer},b(\"div\",{className:\"layoutButton \".concat(p)},b(\"div\",{className:c.a.layoutBox}),b(\"div\",{className:c.a.layoutBox}),b(\"div\",{className:c.a.layoutBox}),b(\"div\",{className:c.a.layoutBox})))),b(\"div\",null),b(\"div\",{className:\"resultsContent \".concat(g)},v),b(\"div\",{style:{position:\"relative\",height:\"400px\"}},S)))}))},\"c7+/\":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/Resultss\",function(){return n(\"Fncr\")}])}},[[\"c7+/\",1,2,0,4,3,5,7,10]]]);","extractedComments":[]}